<div class="container-fuild  form-frais p-3">
  <div class="row">
    <div class="col-12">
      <div class="row">
        <div class="col-lg-6">
          <h3 class="card-title text-left">
            <h2>
              {{ action === "view" ? "Fiche du produit" : "" }}
              {{ action === "edit" ? "Modification du produit" : "" }}
              {{
                action === "view" || action === "edit" ? LibelleProduit_Fr : ""
              }}
              {{ !action ? " Ajouter un produit" : "" }}
            </h2>
          </h3>
        </div>
        <div class="col-lg-6">
          <app-close-modal></app-close-modal>
        </div>
      </div>
      <form
        #produitForm="ngForm"
        (ngSubmit)="onSubmitForm(produitForm)"
        class="g-3 needs-validation"
      >
        <div class="row">
          <div class="mt-3 col-lg-3">
            <label for="validationCustom01" class="form-label"
              >Code Produit</label
            >
            <input
              [readonly]="action == 'view'"
              type="text"
              class="form-control hauteur hauteur"
              name="CodeProduit"
              [(ngModel)]="CodeProduit"
            />
          </div>

          <div class="mt-3 col-lg-3">
            <label for="validationCustom01" class="form-label"
              >Libelle Produit</label
            >
            <input
              [readonly]="action == 'view'"
              type="text"
              class="form-control hauteur hauteur"
              name="LibelleProduit_Fr"
              [(ngModel)]="LibelleProduit_Fr"
            />
          </div>

          <div class="mt-3 col-lg-3">
            <label for="validationCustom01" class="form-label">Niveau</label>
            <input
              readonly
              type="text"
              class="form-control hauteur hauteur"
              name="IDNIVEAU"
              [(ngModel)]="IDNIVEAU"
            />
          </div>

          <div class="mt-3 col-lg-3">
            <label for="validationCustom01" class="form-label">Branche</label>
            <input
              readonly
              type="text"
              class="form-control hauteur hauteur"
              name="IDBRANCHE"
              [(ngModel)]="IDBRANCHE"
            />
          </div>

          <div class="mt-3 col-lg-3">
            <label for="validationCustom01" class="form-label">Ordre</label>
            <input
              [readonly]="action == 'view'"
              type="number"
              class="form-control hauteur hauteur"
              name="NumOrdre"
              [(ngModel)]="NumOrdre"
            />
          </div>

          <div class="mt-3 col-lg-3">
            <label for="validationCustom01" class="form-label">Montant</label>
            <input
              [readonly]="action == 'view'"
              type="number"
              class="form-control hauteur hauteur"
              name="Montant"
              [(ngModel)]="Montant"
            />
          </div>

          <div class="mt-3 col-lg-3">
            <label for="validationCustom01" class="form-label"
              >Date Echéance</label
            >
            <input
              [readonly]="action == 'view'"
              type="text"
              class="form-control hauteur hauteur"
              name="DateEcheance"
              [(ngModel)]="DateEcheance"
            />
          </div>

          <div class="mt-3 col-lg-3">
            <label for="validationCustom01" class="form-label"
              >Compte Associé</label
            >
            <input
              [readonly]="action == 'view'"
              type="text"
              readonly
              class="form-control hauteur hauteur"
              name="CompteAssocie"
              [(ngModel)]="CompteAssocie"
            />
          </div>

          <div class="mt-3 col-lg-4">
            <label for="validationCustom01" class="form-label"
              >Prefixe Compte élève</label
            >
            <input
              [readonly]="action == 'view'"
              type="text"
              class="form-control hauteur hauteur"
              name="PrefixeCompteEleve"
              [(ngModel)]="PrefixeCompteEleve"
            />
          </div>

          <div class="mt-3 col-lg-4">
            <label for="validationCustom01" class="form-label"
              >Reductions Fratrie</label
            >
            <input
              [readonly]="action == 'view'"
              type="text"
              class="form-control hauteur hauteur"
              name="ReductionsFratrie"
              [(ngModel)]="ReductionsFratrie"
            />
          </div>

          <div class="mt-3 col-lg-4">
            <label for="validationCustom01" class="form-label">Taux TVA</label>
            <input
              [readonly]="action == 'view'"
              type="number"
              class="form-control hauteur hauteur"
              name="TauxTVA"
              [(ngModel)]="TauxTVA"
            />
          </div>
        </div>

        <div class="row">
          <div class="col-lg-3 mt-3">
            <div class="form-check">
              <input
                class="form-check-input p-2"
                name="Occasionnel"
                [(ngModel)]="Occasionnel"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label
                class="form-check-label pt-1"
                style="padding-left: 10px"
                for="flexCheckDefault"
              >
                Occasionnel
              </label>
            </div>
          </div>

          <div class="col-lg-3 mt-3">
            <div class="form-check">
              <input
                class="form-check-input p-2"
                name="ObligatoireInscription"
                [(ngModel)]="ObligatoireInscription"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label
                class="form-check-label pt-1"
                style="padding-left: 10px"
                for="flexCheckDefault"
              >
                Obligatoire Inscription
              </label>
            </div>
          </div>

          <div class="col-lg-3 mt-3">
            <div class="form-check">
              <input
                class="form-check-input p-2"
                name="NouveauxEleves"
                [(ngModel)]="NouveauxEleves"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label
                class="form-check-label pt-1"
                style="padding-left: 10px"
                for="flexCheckDefault"
              >
                Nouveaux élèves
              </label>
            </div>
          </div>

          <div class="col-lg-3 mt-3">
            <div class="form-check">
              <input
                class="form-check-input p-2"
                name="AnciensEleves"
                [(ngModel)]="AnciensEleves"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label
                class="form-check-label pt-1"
                style="padding-left: 10px"
                for="flexCheckDefault"
              >
                Anciens élèves
              </label>
            </div>
          </div>

          <div class="col-lg-3 mt-3">
            <div class="form-check">
              <input
                class="form-check-input p-2"
                name="ElevesInternes"
                [(ngModel)]="ElevesInternes"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label
                class="form-check-label pt-1"
                style="padding-left: 10px"
                for="flexCheckDefault"
              >
              Elèves Internes
              </label>
            </div>
          </div>

          <div class="col-lg-3 mt-3">
            <div class="form-check">
              <input
                class="form-check-input p-2"
                name="AccepteReduction"
                [(ngModel)]="AccepteReduction"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label
                class="form-check-label pt-1"
                style="padding-left: 10px"
                for="flexCheckDefault"
              >
                Accepté Reduction
              </label>
            </div>
          </div>

          <div class="col-lg-3 mt-3">
            <div class="form-check">
              <input
                class="form-check-input p-2"
                name="AccepteMajoration"
                [(ngModel)]="AccepteMajoration"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label
                class="form-check-label pt-1"
                style="padding-left: 10px"
                for="flexCheckDefault"
              >
                Accepté Majoration
              </label>
            </div>
          </div>

          <div class="col-lg-3 mt-3">
            <div class="form-check">
              <input
                class="form-check-input p-2"
                name="ObligatoirePourDocuments"
                [(ngModel)]="ObligatoirePourDocuments"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label
                class="form-check-label pt-1"
                style="padding-left: 10px"
                for="flexCheckDefault"
              >
                Obligatoire Pour Documents
              </label>
            </div>
          </div>

          <div class="col-lg-3 mt-3">
            <div class="form-check">
              <input
                class="form-check-input p-2"
                name="ObligatoirePourDocuments"
                [(ngModel)]="ObligatoirePourDocuments"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label
                class="form-check-label pt-1"
                style="padding-left: 10px"
                for="flexCheckDefault"
              >
              Elèves Demi Pensionnaires
              </label>
            </div>
          </div>
        </div>
        <div class="mt-3" *ngIf="action != 'view'">
          <button
            type="submit"
            *ngIf="!isLoading; else loader"
            class="btn form-control text-white"
            style="background-color: #7c57ce"
          >
            {{
              action === "edit" ? "Modifier ce produit !" : "Ajouter un produit"
            }}
          </button>
        </div>
      </form>
    </div>
  </div>
  <ng-template #loader>
    <app-loader></app-loader>
  </ng-template>
</div>

<app-gabarit pageTitle="Imprimer les relevés des notes">
  <div class="container-fuild bg-light p-3">
    <div class="row">
      <div class="col-lg-3">
        <div class="row">
          <div class="col-12">
            <label for="" class="text-center">Recherche une classe ici</label>
            <div class="d-flex align-items-center">
              <input
                type="text"
                (keyup)="applyFilterclasse($event)"
                placeholder="Recherchez par ici..."
                class="form-control text-start text-uppercase"
              />
            </div>
          </div>
          <div class="col-12">
            <div class="border border-danger">
              <div class="mat-elevation-z8">
                <div style="max-height: 340px; overflow-y: auto">
                  <table
                    mat-table
                    [dataSource]="dataSource1"
                    *ngIf="!isLoading; else loader"
                  >
                    <!-- Position Column -->
    
                    <ng-container matColumnDef="CodeClasse">
                      <th mat-header-cell *matHeaderCellDef>Classes</th>
                      <td mat-cell *matCellDef="let element">
                        {{ element.CodeClasse }}
                      </td>
                    </ng-container>
    
                    <ng-container matColumnDef="cochers">
                      <th
                        mat-header-cell
                        *matHeaderCellDef
                      >
                        Cocher
                      </th>
                      <td mat-cell *matCellDef="let element">
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            style="padding: 10px"
                            (click)="checkLineClass(element)"
                            type="radio"
                            name="flexRadioDefault"
                            id="flexRadioDefault1"
                          />
                        </div>
                      </td>
                    </ng-container>
    
                    <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                    <tr
                      mat-row
                      *matRowDef="let row; columns: displayedColumns1"
                      style="cursor: pointer"
                    ></tr>
                  </table>
                </div>
              </div>
    
              <ng-template #loader>
                <app-loader></app-loader>
              </ng-template>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-9">
        <div class="row">
          <div class="col-lg-6">
            <label for="" class="text-center">Recherche une matière ici</label>
            <div class="d-flex align-items-center">
              <input
                type="text"
                (keyup)="applyFilterEleve($event)"
                placeholder="Recherchez par ici..."
                class="form-control text-start text-uppercase"
              />
            </div>
          </div>
          <div class="col-lg-6 mt-4">
            <select class="form-select" (change)="selectedTrimestre($event)">
              <option >Selectionner le trimestre</option>
              <option [value]="1">Premier trimestre</option>
              <option [value]="2">deuxième trimestre</option>
              <option [value]="3">troisième trimestre</option>
            </select>
          </div>
        </div>
        <div class="">
          <div class="mat-elevation-z8">
            <div style="max-height: 340px; overflow-y: auto">
              <table
                mat-table
                [dataSource]="dataSourceMatiereByClass"
                *ngIf="!isLoadingeleveByclass; else loader"
              >
                <!-- Position Column -->

                <ng-container matColumnDef="Matiere">
                  <th mat-header-cell *matHeaderCellDef>Matière</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.Matiere }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="NoteMax">
                  <th mat-header-cell *matHeaderCellDef>Note Maximum</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.NoteMax }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="Coefficient">
                  <th mat-header-cell *matHeaderCellDef>Coefficient</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.Coefficient }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="cocher">
                  <th mat-header-cell *matHeaderCellDef>Cocher</th>
                  <td mat-cell *matCellDef="let element">
                    <div class="form-check" style="margin-left: 10px">
                      <input
                        class="form-check-input p-2 eleve-checkbox"
                        type="checkbox"
                        (click)="checkLine(element,$event)"
                      />
                    </div>
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedColumns2"
                  style="cursor: pointer"
                ></tr>
              </table>
            </div>
          </div>
          <ng-template #loader>
            <app-gabarit></app-gabarit>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid bg-light p-3 mt-1">
    <div
      class="row mt-4"
      *ngIf="!isloadingImpression;else loader"
    >
      <div class="col-lg-6">
        <button
          style="background-color: #7b4bce"
          class="form-control text-white h-100"
          (click)="ImprimerReleverSanscNotes()"
        >
          Imprimer le relevé des notes vides <i class="fa-solid fa-print"></i> 
        </button>
      </div>

      <div class="col-lg-6">
        <button
          style="background-color: #7b4bce"
          class="form-control text-white h-100"
          (click)="ImprimerReleverAvecNotes()"
        >
        Imprimer le relevé des notes avec les notes <i class="fa-solid fa-print"></i>
        </button>
      </div>

    </div>
  </div>

</app-gabarit>

<div class="container p-3">
  <div class="row">
    <div><app-close-modal></app-close-modal></div>
    <div class="col-12">
      <h2 class="">
        {{ action === "view" ? "Fiche de l'absence " : "" }}
        {{ action === "edit" ? "Modifier une absence" : "" }}
        {{ action === "view" || action === "edit" ? NomPrenom : "" }}
        {{ action === "create" ? "Ajouter une absence" : "" }}
      </h2>
      <form
        *ngIf="!isloadingfiche;else loading"
        #cycleForm="ngForm"
        (ngSubmit)="onSubmitForm(cycleForm)"
        class="g-3 needs-validation"
      >
        <div class="row">
          <div class="col-lg-12">
            <div class="">
              <label for="validationCustom01" class="form-label label"
                >Date Absence</label
              >
              <input
                [readonly]="action == 'view'"
                type="date"
                (change)="selectDate($event)"
                class="form-control hauteur"
                name="Date"
                [(ngModel)]="Date"/>
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-lg-12">
            <div class="">
              <label for="validationCustom01" class="form-label label">Nom et prénom</label>
              <input
                [readonly]="action == 'view'"
                type="text"
                class="form-control hauteur hauteur"
                name="NomPrenom"
                [(ngModel)]="NomPrenom"/>
            </div>
          </div>
        </div>
  
        <div class="row mt-3">
          <div class="col-lg-6">
            <div class="form-check">
              <input
                class="form-check-input"
                name="Matin"
                [(ngModel)]="Matin"
                type="checkbox"
                id="flexCheckChecked"
                [disabled]="action == 'view'"
                (click)="matinselected($event)"
              />
              <label class="form-check-label" for="flexCheckChecked">
                Absent le matin
              </label>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="form-check">
              <input
                class="form-check-input"
                name="ApresMidi"
                [(ngModel)]="ApresMidi"
                type="checkbox"
                id="flexCheckChecked"
                [disabled]="action == 'view'"
                (click)="SoirSelected($event)"
              />
              <label class="form-check-label" for="flexCheckChecked">
                Absent l'après midi
              </label>
            </div>
          </div>
        </div>
        <div class="m-auto" *ngIf="action != 'view'">
          <button *ngIf="!isloading;else loading" type="submit" class="btn form-control text-white bg-primary">
            {{ action === "edit" ? "Modifier " : "Valider" }} <i class="fa-solid fa-arrows-rotate"></i>
          </button>
        </div>
      </form>
    </div>
  </div>
  <ng-template #loading>
    <app-loader></app-loader>
  </ng-template>
</div>